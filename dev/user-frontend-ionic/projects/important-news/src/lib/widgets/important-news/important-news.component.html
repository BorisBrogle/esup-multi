<ion-row *ngIf="isLoading === true">
  <ion-spinner name="dots"></ion-spinner>
</ion-row>
<ng-container *ngIf="isLoading === false && randomImportantNews$ | async as randomImportantNews">
  <ion-grid class="border ion-no-padding">
    <ion-row [ngStyle]="{'background-color': randomImportantNews.color}">
      <ion-col>
        <ion-row class="importantNews">
          <ion-col *ngIf="randomImportantNews.image">
            <ion-img [src]="cmsPublicAssetsEndpoint + randomImportantNews.image"></ion-img>
          </ion-col>
          <ion-col class="border-bottom news-content" [size]="randomImportantNews.image ? '6' : '12'"
          [ngClass]="{'without-image': !randomImportantNews.image}">
            <ion-label color="primary" class="ion-text-wrap text-title" >
              <h2 class="app-title-6">{{ randomImportantNews.title }}</h2>
            </ion-label>
            <ion-label color="primary" class="ion-text-wrap text-content">
              <h3 class="app-text-5">{{randomImportantNews.content}}</h3>
            </ion-label>
            <ion-row *ngIf="randomImportantNews.link" class="ion-justify-content-end">
              <ion-button
                [routerLink]="randomImportantNews.link.startsWith('/') ? randomImportantNews.link : null"
                (click)="!randomImportantNews.link.startsWith('/') && onClick(randomImportantNews)"
                class="app-text-button-1 link-button">
                <ion-text class="app-text-5"> {{ randomImportantNews.buttonLabel }} </ion-text>
                <ion-icon class="app-icon-5 link-icon" name="arrow-right"></ion-icon>
              </ion-button>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-container>

<ng-container class="ion-padding" *ngIf="(noImportantNews$ | async)">
  <ion-row class="ion-margin-top">
    <ion-note> {{ "IMPORTANT-NEWS.WIDGET.NO_DATA" | translate }} </ion-note>
  </ion-row>
</ng-container>
