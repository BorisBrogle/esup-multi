<ion-content *ngIf="(storeManager.schedule$ | async) as schedule" #scrollContent>

  <ng-container *ngIf="(areEventsFromActivePlannings$ | async) === true">

    <ion-item-group *ngFor="let eventsByDay of (eventsByDays$ | async);">

      <ion-item-divider sticky class="app-text-2 ion-text-center complete-date" [id]="eventsByDay.day">
        <ion-col>{{eventsByDay.day | completeLocalDate}}</ion-col>
      </ion-item-divider>

      <ion-col class="app-text-4 ion-text-center safe-area-padding-lr" *ngIf="!eventsByDay.events.length">
        <p>{{ "SCHEDULE.NO_EVENTS_THIS_DAY" | translate }}</p>
      </ion-col>

      <app-event-detail *ngFor="let event of eventsByDay.events" [event]="event"
        (hideEventEvt)="keepScrollPosition()"></app-event-detail>

    </ion-item-group>

    <ion-row class="ion-justify-content-center ion-margin-bottom">
      <ion-button class="app-text-4 see-more" fill="outline" (click)="loadMoreEvents()">
        <ion-icon name="add-outline"></ion-icon>
        {{ "SCHEDULE.LIST.SEE_MORE" | translate }}
      </ion-button>
    </ion-row>

  </ng-container>

</ion-content>

<ion-content class="ion-padding" *ngIf="(areEventsFromActivePlannings$ | async) === false">
  <ion-note class="app-text-4 safe-area-padding-lr"> {{ "SCHEDULE.NO_EVENTS" | translate }} </ion-note>
</ion-content>

<ion-content class="ion-padding" *ngIf="(storeManager.schedule$ | async) === null">
  <ion-note class="app-text-4 safe-area-padding-lr"> {{ "SCHEDULE.NO_DATA" | translate }} </ion-note>
</ion-content>
